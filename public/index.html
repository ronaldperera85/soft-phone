<!DOCTYPE html>
<html>
<head>
    <title>WebRTC Softphone para Issabel</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        .panel { border: 1px solid #ccc; padding: 15px; margin-bottom: 15px; border-radius: 5px; }
        input { margin-right: 10px; padding: 5px; }
        button { padding: 5px 10px; cursor: pointer; }
        #status { font-weight: bold; }
    </style>
</head>
<body>
    <h1>Mi Softphone Web (Issabel)</h1>

    <!-- Panel de Configuración -->
    <div id="configPanel" class="panel">
        <h2>Configuración</h2>
        <input type="text" id="servidor" placeholder="IP o Dominio de Issabel">
        <input type="text" id="puerto" placeholder="Puerto WSS (ej: 8089)">
        <input type="text" id="extension" placeholder="Tu Extensión">
        <input type="password" id="clave" placeholder="Tu Clave (Secret)">
        <button id="btnConectar">Conectar</button>
        <p>Estado: <span id="status">Desconectado</span></p>
    </div>

    <!-- Panel de Llamada -->
    <div class="panel">
        <h2>Llamar</h2>
        <input type="text" id="numeroADial" placeholder="Número a llamar">
        <button id="btnLlamar" disabled>Llamar</button>
        <button id="btnColgar" disabled>Colgar</button>
    </div>

    <!-- Elemento de Audio (invisible para el usuario) -->
    <audio id="remoteAudio"></audio>

    <!-- Importamos la biblioteca SIP.js -->
    <script src="https://cdn.jsdelivr.net/npm/sip.js@0.20.0/dist/sip.js"></script>
    
    <!-- Cargamos la configuración desde el servidor -->
    <script src="/config.js"></script>

    <!-- Nuestro código de la aplicación -->
    <script src="app.js"></script>
</body>
</html>